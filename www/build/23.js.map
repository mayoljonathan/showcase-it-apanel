{"version":3,"sources":["../../src/pages/startup-loading/startup-loading.module.ts","../../src/pages/startup-loading/startup-loading.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { StartupLoadingPage } from './startup-loading';\n\n@NgModule({\n  declarations: [\n    StartupLoadingPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(StartupLoadingPage),\n  ],\n})\nexport class StartupLoadingPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/startup-loading/startup-loading.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,MenuController } from 'ionic-angular';\n\nimport { CacheService } from '../../shared/services';\n\n@IonicPage({segment: 'startup'})\n@Component({\n  selector: 'page-startup-loading',\n  templateUrl: 'startup-loading.html',\n})\nexport class StartupLoadingPage {\n\n  timeoutCounter: number = 0;\n  connectionError: boolean = false;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public cacheService: CacheService,\n    public menuCtrl: MenuController,\n  ) {\n    menuCtrl.enable(false);\n\n    // let url = window.location.href;\n    // var parts = url.split('/');\n    // var lastSegment = parts.pop();  // handle potential trailing slash\n\n    // console.log(lastSegment);\n\n    let redirectUrl = this.getParameterByName('req',window.location.href)\n    setTimeout(()=>{\n      if(redirectUrl){\n      redirectUrl = redirectUrl\n                    .replace(/^http\\:\\/\\//, '') // remove the leading http:// (temporarily)\n                    .replace(/\\/+/g, '/')       // replace consecutive slashes with a single slash\n                    .replace(/\\/+$/, '');       // remove trailing slashes  \n      }\n      console.log(redirectUrl); \n      // redirectUrl = redirectUrl.replace(/\\//g, \"\");\n      if(!redirectUrl || redirectUrl == null || redirectUrl == 'undefined' || redirectUrl == 'startup'){\n        redirectUrl = 'login';\n      }\n      console.log(`Redirecting to : #${redirectUrl}`);\n      this.menuCtrl.enable(false);\n      window.location.href = `#${redirectUrl}`;\n    },1000);\n  }\n\n  retry(){\n    this.navCtrl.setRoot('DashboardPage');\n  }\n\n  getParameterByName(name, url) {\n      if (!url) url = window.location.href;\n      name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n      var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n          results = regex.exec(url);\n      if (!results) return null;\n      if (!results[2]) return '';\n      return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad StartupLoadingPage');\n    this.listenConnection();\n  }\n\n  listenConnection(){\n    let listener = setInterval(()=>{\n      if(this.timeoutCounter == 60){\n        this.connectionError = true;\n        clearInterval(listener);\n      }\n      if(this.cacheService.isConnected){\n        clearInterval(listener);\n        // this.navCtrl.setRoot('HomePage');\n      }\n      this.timeoutCounter++;\n    },500);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/startup-loading/startup-loading.ts"],"sourceRoot":""}